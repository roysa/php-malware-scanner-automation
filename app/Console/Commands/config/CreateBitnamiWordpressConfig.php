<?php

namespace App\Console\Commands\config;

use Illuminate\Support\Facades\Artisan;

class CreateBitnamiWordpressConfig extends AbstractConfigCommand
{


    public $signature = 'config:create-bitnami-wordpress-config {--emails=} {--email-driver=ses}';

    public function handle(): int
    {

        $emails = $this->readCommaSeparatedOption('emails');

        $directories = [
            '/opt/bitnami/wordpress'
        ];

        return Artisan::call('config:create', [
            '--emails' => implode(',', $emails),
            '--email-driver' => $this->option('email-driver') ?? $this->getFromDotenv('MAIL_MAILER'),
            '--directories' => implode(',', $directories),
        ], $this->getOutput());
    }

}
